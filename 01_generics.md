# Осваиваем Generics: когда и как правильно использовать

Проблемы с неправильным использованием Type Parameters в коде часто встречаются, а страх перед Generics и предрассудки о том, что они превращают Go в страшилище вроде C++, лишь усугубляют ситуацию. Вместо этого многие разработчики предпочитают использовать go generate. Однако, применение шаблонов в определенных случаях на самом деле может упростить код и повысить его читабельность.

Итак, поиски истины ведут нас к тому, что создатели Go сумели найти золотую середину, аккуратно и бережно разрабатывая этот функционал, чтобы ничего не сломать и предотвратить превращение кода в C++. Важным источником информации по этому вопросу являются [статья о Generics](https://go.dev/blog/when-generics) и другие выступления в [блоге о Go](https://go.dev/blog/) (рекомендуется иногда заглядывать туда).

__Вот ключевые моменты о том, когда и как использовать Generics в Go, и когда стоит воздержаться:__

### Общие рекомендации:

* Не начинайте писать код, определяя ограничения параметров типа на функции. Сначала напишите функцию с конкретным типом, а затем оцените, стоит ли сделать ее обобщенной.
* Используйте обобщения только там, где существует много общего кода.
* Если вы обнаружите, что пишете один и тот же код несколько раз, и единственное различие между копиями заключается в том, что код использует разные типы, подумайте о том, чтобы использовать параметр типа.

### Когда использовать Type Parameters:

* В функциях, которые работают с контейнерами, определенными в языке (срезы, карты, каналы) и код функции не делает особых предположений о типах элементов. В этом случае вам может быть полезно использовать type-parameters.
* Для обобщенных структур данных, таких как связанные списки или бинарные деревья. Замена типа интерфейса на параметр типа может позволить эффективнее хранить данные и избегать использования приведения типов.
* Если разные типы должны реализовывать некоторый общий метод, и реализации для разных типов выглядят одинаково. В этом случае параметры типа могут быть полезными.

### Когда не использовать Type Parameters:

* Не заменяйте типы интерфейсов на параметры типов. Используйте интерфейсные типы, когда все, что вам нужно сделать с значением некоторого типа, это вызвать метод этого значения.
* Не используйте параметры типов, если реализации методов различаются. Вместо этого используйте интерфейсные типы и напишите разные реализации методов.
* Используйте рефлексию, где это уместно. Если операция должна поддерживать типы без методов и операция отличается для каждого типа, используйте рефлексию.

Таким образом, Generics в Go являются мощным инструментом, который может значительно улучшить ваш код, если использовать его правильно и с учетом рекомендаций. Учиться применять Generics и постоянно совершенствовать свои навыки важно для успешного развития в качестве Go-разработчика.